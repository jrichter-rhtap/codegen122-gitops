apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    tad.gitops.set/image: ".spec.template.spec.containers[0].image"
    tad.gitops.get/image: ".spec.template.spec.containers[0].image"
    tad.gitops.set/replicas: ".spec.replicas"
    tad.gitops.get/replicas: ".spec.replicas"
  name: codegen
spec:
  replicas: 1
  template:
    spec:
      containers:
        - image: quay.io/jrichter/codegen:311a5537eb672a30dce5a99e25bf9fd6beba2683@sha256:bf5bf4e5724843020c33a16fca57c9d118d4fd239b86b793fab0fe7d3490d42b # use pre-built to bootstrap
          name: app-inference
